<div class="row_container task_container {{task.priority_class}} {{task.indentation_class}}"
    [ngClass]="{completed: task.completed  }">
    <div class="completed_container">
        <input [disabled]="updating" (click)="toggleCompleted()" type="checkbox" name="completed"
            [(ngModel)]="task.completed">
    </div>

    <div class="content_container">

        <div class="inputs_container">
            <div class="task_input" contenteditable="true" (keypress)="saveTaskOnEnter($event)"
                (blur)="updateContent($event)" [textContent]="task.content"> </div>
            <div *ngIf="canAdministrate" class="task_input" contenteditable="true" (keypress)="saveTaskOnEnter($event)"
                (blur)="updateTranslation($event)" [textContent]="task.translation"> </div>
            <div class="icon icon_tick" *ngIf="showTick">Updated</div>
        </div>
        <p *ngIf="canAdministrate" class="task_added">
            Added: {{task.created_at_date | date }}
            <span *ngIf="task.completed_at_date"> | Completed: {{task.completed_at_date | date}}</span>

        </p>
        <p class="task_uploads_container" *ngIf="task.uploads">
            <a *ngFor="let upload of task.uploads" target="_blank" href="{{upload.full_url}}"> {{upload.filename}}</a>
        </p>

    </div>
    <div class="actions_container" *ngIf="canDelete">

        <a (click)="toggleUpload()" title="Upload" class="icon icon_upload">Upload</a>
        <a (click)="togglePriority()" title="Priority" class="icon icon_priority">Priority</a>
        <a (click)="toggleIndentation()" title="Make subtask" class="icon icon_indent">Indent</a>
        <a (click)="deleteTask()" title="Delete" class="icon icon_delete">Delete</a>
    </div>



</div>
<div class="task_upload" *ngIf="showUpload">
    <app-new-upload [project]="project" [task]="task" (uploadCreated)="createdUpload($event)"></app-new-upload>
</div>